<app-portlet>
  <!-- PORTLET LOADING | Binded to TABLE Datasource -->
  <!-- See prop => '~/core/_crud/models/data-sources/_base.datasource.ts' (loading$) -->
  <app-portlet-header
    [title]="'COMMON.TITLE_EDIT_PAGE' | translate"
    [class]="'card-head-lg'"
  >
    <ng-container ktPortletTools>
      <button class="btn btn-secondary mr-2" [routerLink]="['/admin/user']">
        <i class="fas fa-chevron-left"></i>
        {{ "COMMON.BUTTON_CANCEL" | translate }}
      </button>
      <button *ngIf="accessable" class="btn btn-primary" (click)="onSumbit()">
        <i class="far fa-save"></i>
        {{ "COMMON.BUTTON_EDIT_SAVE" | translate }}
      </button>
    </ng-container>
  </app-portlet-header>
  <!-- end::Header -->

  <!-- start::Body (attribute: ktPortletBody) -->
  <app-portlet-body>
    <form [formGroup]="userForm" *ngIf="userForm">
      <div class="form-group row">
        <label
          for="txtUserName"
          class="col-sm-2 col-form-label col-form-label-sm"
          >Tài khoản</label
        >
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control form-control-sm"
            id="txtUserName"
            placeholder="Tài khoản"
            formControlName="userName"
          />
          <div
            class="fv-plugins-message-container"
            *ngIf="isControlHasError('userName', 'required')"
          >
            <div
              data-field="username"
              data-validator="notEmpty"
              class="fv-help-block"
            >
              {{ "AUTH.VALIDATION.REQUIRED_FIELD" | translate }}
            </div>
          </div>

          <div
            class="fv-plugins-message-container"
            *ngIf="isControlHasError('userName', 'minlength')"
          >
            <div
              data-field="username"
              data-validator="notEmpty"
              class="fv-help-block"
            >
              {{ "AUTH.VALIDATION.MIN_LENGTH_FIELD" | translate }} 6
            </div>
          </div>

          <div
            class="fv-plugins-message-container"
            *ngIf="isControlHasError('userName', 'maxlength')"
          >
            <div
              data-field="username"
              data-validator="notEmpty"
              class="fv-help-block"
            >
              {{ "AUTH.VALIDATION.MAX_LENGTH_FIELD" | translate }} 320
            </div>
          </div>
        </div>
      </div>

      <div class="form-group row">
        <label
          for="txtFullName"
          class="col-sm-2 col-form-label col-form-label-sm"
          >Họ và tên</label
        >
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control form-control-sm"
            id="txtFullName"
            placeholder="Họ và tên"
            formControlName="fullName"
          />

          <div
            class="fv-plugins-message-container"
            *ngIf="isControlHasError('fullName', 'required')"
          >
            <div
              data-field="username"
              data-validator="notEmpty"
              class="fv-help-block"
            >
              {{ "AUTH.VALIDATION.REQUIRED_FIELD" | translate }}
            </div>
          </div>
        </div>
      </div>

      <div class="form-group row">
        <label for="txtEmail" class="col-sm-2 col-form-label col-form-label-sm"
          >Email</label
        >
        <div class="col-sm-10">
          <input
            type="email"
            class="form-control form-control-sm"
            id="txtEmail"
            placeholder="Email"
            formControlName="email"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="txtRole" class="col-sm-2 col-form-label col-form-label-sm"
          >Quyền</label
        >
        <div class="col-sm-10">
          <select class="custom-select mr-sm-2" id="txtRole" multiple formControlName="roles">
            <option *ngFor="let role of rolesToText" [value]="role.value">
              {{role.text}}
            </option>
          </select>
        </div>
      </div>
    </form>
  </app-portlet-body>
  <!-- end::Body -->
</app-portlet>
